<!-- build time:Sun Nov 03 2024 15:59:26 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="REM" href="https://loveremu.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="REM" href="https://loveremu.github.io/atom.xml"><link rel="alternate" type="application/json" title="REM" href="https://loveremu.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="学习"><link rel="canonical" href="https://loveremu.github.io/2024/04/28/Linux%E5%9F%BA%E7%A1%80/"><title>Linux基础 - 工程基础 | REMU's blog = REM = レムは天下一品だ</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Linux基础</h1><div class="meta"><span class="item" title="创建时间：2024-04-28 15:46:13"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2024-04-28T15:46:13+08:00">2024-04-28</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">REMU's blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://LOVEREMU.github.io/images/b094de56640ce2e434b429dd4dbe2807.jpg"></li><li class="item" data-background-image="https://LOVEREMU.github.io/images/1-min.jpg"></li><li class="item" data-background-image="https://LOVEREMU.github.io/images/9-min.jpg"></li><li class="item" data-background-image="https://LOVEREMU.github.io/images/4-min.png"></li><li class="item" data-background-image="https://LOVEREMU.github.io/images/3-min.jpg"></li><li class="item" data-background-image="https://LOVEREMU.github.io/images/10-min.png"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%B7%A5%E7%A8%8B%E5%9F%BA%E7%A1%80/" itemprop="item" rel="index" title="分类于 工程基础"><span itemprop="name">工程基础</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://loveremu.github.io/2024/04/28/Linux%E5%9F%BA%E7%A1%80/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="REMU"><meta itemprop="description" content="レムは天下一品だ, LOVEREMU blog"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="REM"></span><div class="body md" itemprop="articleBody"><h1 id="linux"><a class="anchor" href="#linux">#</a> Linux</h1><hr><h2 id="前后端关联"><a class="anchor" href="#前后端关联">#</a> 前后端关联</h2><p>前端发送请求，后端返回请求，网页为例，类似于函数<br></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">f</span><span class="params">(string url)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;html&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><hr><h2 id="文件系统"><a class="anchor" href="#文件系统">#</a> 文件系统</h2><h3 id="树状结构常用文件如下"><a class="anchor" href="#树状结构常用文件如下">#</a> 树状结构，常用文件如下</h3><p><strong>根目录</strong>：/<br><strong>bin</strong>: 常用的可执行文件的命令<br><strong>etc</strong>：配置文件<br><strong>proc</strong>: 进程相关的信息<br><strong>var</strong>: 常用<em> log</em> 日志文件<br><strong>lib</strong>: 安装包与头文件<br><strong>home</strong>: 所有用户的家目录</p><h3 id="文件描述"><a class="anchor" href="#文件描述">#</a> 文件描述</h3><p><strong>绝对路径</strong>：从根路径开始描述，向下到最终文件，一般带盘符<br><strong>相对路径</strong>：从当前路径开始描述，走到最终文件<br><strong>.</strong> ：表示当前目录<br><strong>..</strong> ：表示上级目录<br><strong>～/</strong> ：家目录</p><hr><h2 id="基础命令"><a class="anchor" href="#基础命令">#</a> 基础命令</h2><p><strong>ctrl c</strong>: 取消命令，并且换行<br><strong>ctrl u</strong>: 清空本行命令<br><strong>tab 键</strong>：可以补全命令和文件名，如果补全不了快速按两下 tab 键，可以显示备选选项<br><strong>ls</strong>: 列出当前目录下或当前选择的目录下所有文件，蓝色的是文件夹，白色的是普通文件，绿色的是可执行文件<br><strong>ls -l</strong>：列出当前目录下或当前选择的目录下所有文件以及详细信息<br><strong>ls -a</strong>：列出当前目录下或当前选择的目录下所有文件包括隐藏文件（当文件名以。开头就是隐藏文件）<br><strong>ls -lh</strong>：列出当前目录下或当前选择的目录下所有文件以及详细信息，并且用兆或者 K 表示<br><strong>pwd</strong>: 显示当前路径<br><strong>cd XXX</strong>: 进入 XXX 目录下，cd .. 返回上层目录<br><strong>cp XXX YYY</strong>: 复制加粘贴加重命名，将 XXX 文件复制到（成）YYY，XXX 和 YYY 可以是一个路径，比如../dir_c/a.txt，表示上层目录下的 dir_c 文件夹下的文件 a.txt<br><strong>cp XXX YYY -r</strong>: 复制整个目录，如果文件命中有空格则需要在空格前添加转义字符 '/'<br><strong>mkdir XXX</strong>: 创建目录 XXX，可以通过目录描述来创建一连串的文件<br><strong>mkdir XXX -p</strong>: 创建目录 XXX，可以通过目录描述来创建一连串的文件，如果路径目录不存在会直接创建<br><strong>rm XXX</strong>: 删除普通文件<br><strong>rm XXX -r</strong>: 删除文件夹<br><strong>mv XXX YYY</strong>: 剪接粘贴加重命名，将 XXX 文件移动到 YYY，和 cp 命令一样，XXX 和 YYY 可以是一个路径；重命名也是用这个命令<br><strong>touch XXX</strong>: 创建一个文件<br><strong>cat XXX</strong>: 展示文件 XXX 中的内容，作用对象只能是文件<br><strong>复制文本</strong>：windows/Linux 下：Ctrl + insert，Mac 下：command + c<br><strong>粘贴文本</strong>：windows/Linux 下：Shift + insert，Mac 下：command + v</p><hr><h2 id="tmux和vim"><a class="anchor" href="#tmux和vim">#</a> tmux 和 vim</h2><ol><li><p><strong>tmux 教程</strong><br><strong>功能：</strong><br>(1) 分屏。<br>(2) 允许断开 Terminal 连接后，继续运行进程。<br><strong>结构：</strong><br>一个 tmux 可以包含多个 session，一个 session 可以包含多个 window，一个 window 可以包含多个 pane。<br>实例：<br>tmux:<br>session 0:<br>window 0:<br>pane 0<br>pane 1<br>pane 2<br>...<br>window 1<br>window 2<br>...<br>session 1<br>session 2<br>...<br><strong>操作：</strong><br>(1) tmux：新建一个 session，其中包含一个 window，window 中包含一个 pane，pane 里打开了一个 shell 对话框。<br>(2) 按下 Ctrl + b 后手指松开，然后按 %：将当前 pane 左右平分成两个 pane。<br>(3) 按下 Ctrl + b 后手指松开，然后按 &quot;：将当前 pane 上下平分成两个 pane。<br>(4) Ctrl + d：关闭当前 pane；如果当前 window 的所有 pane 均已关闭，则自动关闭 window；如果当前 session 的所有 window 均已关闭，则自动关闭 session。<br>(5) 鼠标点击可以选 pane。<br>(6) 按下 ctrl + b 后手指松开，然后按方向键：选择相邻的 pane。<br>(7) 鼠标拖动 pane 之间的分割线，可以调整分割线的位置。<br>(8) 按住 ctrl + b 的同时按方向键，可以调整 pane 之间分割线的位置。<br>(9) 按下 ctrl + b 后手指松开，然后按 z：将当前 pane 全屏 / 取消全屏。<br>(10) 按下 ctrl + b 后手指松开，然后按 d：挂起当前 session。<br>(11) <code>tmux a -t xxx</code> ：打开之前挂起的 session。<br>(12) 按下 ctrl + b 后手指松开，然后按 s：选择其它 session。<br>方向键 —— 上：选择上一项 session/window/pane<br>方向键 —— 下：选择下一项 session/window/pane<br>方向键 —— 右：展开当前项 session/window<br>方向键 —— 左：闭合当前项 session/window<br>(13) 按下 Ctrl + b 后手指松开，然后按 c：在当前 session 中创建一个新的 window。<br>(14) 按下 Ctrl + b 后手指松开，然后按 w：选择其他 window，操作方法与 (12) 完全相同。<br>(15) 按下 Ctrl + b 后手指松开，然后按 PageUp：翻阅当前 pane 内的内容。<br>(16) 鼠标滚轮：翻阅当前 pane 内的内容。<br>(17) 在 tmux 中选中文本时，需要按住 shift 键。（仅支持 Windows 和 Linux，不支持 Mac，不过该操作并不是必须的，因此影响不大）<br>(18) tmux 中复制 / 粘贴文本的通用方式：<br>(1) 按下 Ctrl + a 后松开手指，然后按 [<br>(2) 用鼠标选中文本，被选中的文本会被自动复制到 tmux 的剪贴板<br>(3) 按下 Ctrl + a 后松开手指，然后按]，会将剪贴板中的内容粘贴到光标处<br>(19) 关闭 session <code>tmux kill-session -t xxx</code></p></li><li><p><strong>vim 教程</strong><br><strong>功能：</strong><br>(1) 命令行模式下的文本编辑器。<br>(2) 根据文件扩展名自动判别编程语言。支持代码缩进、代码高亮等功能。<br>(3) 使用方式：vim filename<br>如果已有该文件，则打开它。<br>如果没有该文件，则打开个一个新的文件，并命名为 filename<br><strong>模式：</strong><br>(1) 一般命令模式<br>默认模式。命令输入方式：类似于打游戏放技能，按不同字符，即可进行不同操作。可以复制、粘贴、删除文本等。<br>(2) 编辑模式<br>在一般命令模式里按下 i，会进入编辑模式。<br>按下 ESC 会退出编辑模式，返回到一般命令模式。<br>(3) 命令行模式<br>在一般命令模式里按下:/? 三个字母中的任意一个，会进入命令行模式。命令行在最下面。<br>可以查找、替换、保存、退出、配置编辑器等。<br><strong>操作：</strong><br>(1) i：进入辑模式<br>(2) ESC：进入一般命令模式<br>(3) h 或 左箭头键：光标向左移动一个字符<br>(4) j 或 向下箭头：光标向下移动一个字符<br>(5) k 或 向上箭头：光标向上移动一个字符<br>(6) l 或 向右箭头：光标向右移动一个字符<br>(7) n&lt;Space&gt;：n 表示数字，按下数字后再按空格，光标会向右移动这一行的 n 个字符<br>(8) 0 或 功能键 [Home]：光标移动到本行开头<br>(9) <code>$</code> 或 功能键 [End]：光标移动到本行末尾<br>(10) G：光标移动到最后一行<br>(11) :n 或 nG：n 为数字，光标移动到第 n 行<br>(12) gg：光标移动到第一行，相当于 1G<br>(13) n&lt;Enter&gt;：n 为数字，光标向下移动 n 行<br>(14) /word：向光标之下寻找第一个值为 word 的字符串。<br>(15) ?word：向光标之上寻找第一个值为 word 的字符串。<br>(16) n：重复前一个查找操作<br>(17) N：反向重复前一个查找操作<br>(18) :n1,n2s/word1/word2/g：n1 与 n2 为数字，在第 n1 行与 n2 行之间寻找 word1 这个字符串，并将该字符串替换为 word2<br>(19) :1, <code>$</code> s/word1/word2/g：将全文的 word1 替换为 word2<br>(20) :1, <code>$</code> s/word1/word2/gc：将全文的 word1 替换为 word2，且在替换前要求用户确认。<br>(21) v：选中文本<br>(22) d：删除选中的文本<br>(23) dd: 删除当前行<br>(24) y：复制选中的文本<br>(25) yy: 复制当前行<br>(26) p: 将复制的数据在光标的下一行 / 下一个位置粘贴<br>(27) u：撤销<br>(28) Ctrl + r：取消撤销<br>(29) 大于号 &gt;：将选中的文本整体向右缩进一次<br>(30) 小于号 &lt;：将选中的文本整体向左缩进一次<br>(31) :w 保存<br>(32) :w! 强制保存<br>(33) :q 退出<br>(34) :q! 强制退出<br>(35) :wq 保存并退出<br>(36) :set paste 设置成粘贴模式，取消代码自动缩进，以防止复制其他已经缩进的代码多重补全<br>(37) :set nopaste 取消粘贴模式，开启代码自动缩进<br>(38) :set nu 显示行号<br>(39) :set nonu 隐藏行号<br>(40) gg=G：将全文代码格式化<br>(41) :noh 关闭查找关键词高亮<br>(42) Ctrl + q：当 vim 卡死时，可以取消当前正在执行的命令<br>异常处理：<br>每次用 vim 编辑文件时，会自动创建一个.filename.swp 的临时文件。<br>如果打开某个文件时，该文件的 swp 文件已存在，则会报错。此时解决办法有两种：<br>(1) 找到正在打开该文件的程序，并退出<br>(2) 直接删掉该 swp 文件即可</p></li></ol><hr><h2 id="shell语法"><a class="anchor" href="#shell语法">#</a> shell 语法</h2><h3 id="概论"><a class="anchor" href="#概论">#</a> 概论</h3><p><strong>概念基础</strong><br>shell 是我们通过命令行与操作系统沟通的语言。<br>shell 脚本可以直接在命令行中执行，也可以将一套逻辑组织成一个文件，方便复用<br>Linux 系统中一般默认使用 bash，所以接下来讲解 bash 中的语法。<br>文件开头需要写 <code>#! /bin/bash</code> ，指明 bash 为脚本解释器。<br><strong>脚本示例</strong><br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello World!&quot;</span></span><br></pre></td></tr></table></figure><br><strong>运行方式</strong><p></p><ol><li><strong>作为可执行文件</strong><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test.sh  <span class="comment"># 使脚本具有可执行权限</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh  <span class="comment"># 当前路径下执行</span></span><br><span class="line">Hello World!  <span class="comment"># 脚本输出</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ /home/acs/test.sh  <span class="comment"># 绝对路径下执行</span></span><br><span class="line">Hello World!  <span class="comment"># 脚本输出</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ ~/test.sh  <span class="comment"># 家目录路径下执行</span></span><br><span class="line">Hello World!  <span class="comment"># 脚本输出</span></span><br></pre></td></tr></table></figure></li><li><strong>用解释器执行</strong><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ bash test.sh</span><br><span class="line">Hello World!  <span class="comment"># 脚本输出</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="注释"><a class="anchor" href="#注释">#</a> 注释</h3><p><strong>单行注释</strong><br>每行中 #之后的内容均是注释。<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是一行注释</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;Hello World&#x27;</span>  <span class="comment">#  这也是注释</span></span><br></pre></td></tr></table></figure><br><strong>多行注释</strong><br>格式：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">第一行注释</span></span><br><span class="line"><span class="string">第二行注释</span></span><br><span class="line"><span class="string">第三行注释</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><p></p><p>其中 EOF 可以换成其它任意字符串。例如：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;<span class="string">abc</span></span><br><span class="line"><span class="string">第一行注释</span></span><br><span class="line"><span class="string">第二行注释</span></span><br><span class="line"><span class="string">第三行注释</span></span><br><span class="line"><span class="string">abc</span></span><br><span class="line"></span><br><span class="line">:&lt;&lt;!</span><br><span class="line">第一行注释</span><br><span class="line">第二行注释</span><br><span class="line">第三行注释</span><br><span class="line">!</span><br></pre></td></tr></table></figure><p></p><h3 id="变量"><a class="anchor" href="#变量">#</a> 变量</h3><p><strong>定义变量</strong><br>定义变量，不需要加 <code>$</code> 符号，<strong>等号之间没有空格</strong>例如：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name1=<span class="string">&#x27;yxc&#x27;</span>  <span class="comment"># 单引号定义字符串</span></span><br><span class="line">name2=<span class="string">&quot;yxc&quot;</span>  <span class="comment"># 双引号定义字符串</span></span><br><span class="line">name3=yxc    <span class="comment"># 也可以不加引号，同样表示字符串</span></span><br></pre></td></tr></table></figure><br><strong>使用变量</strong><br>使用变量，需要加上 <code>$</code> 符号，或者 <code>$&#123;&#125;</code> 符号。花括号是可选的，主要为了帮助解释器识别变量边界。<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name=yxc</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span>  <span class="comment"># 输出yxc</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name&#125;</span>  <span class="comment"># 输出yxc</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name&#125;</span>acwing  <span class="comment"># 输出yxcacwing</span></span><br></pre></td></tr></table></figure><br><strong>只读变量</strong><br>使用 <code>readonly</code> 或者 <code>declare</code> 可以将变量变为只读。<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name=yxc</span><br><span class="line"><span class="built_in">readonly</span> name</span><br><span class="line"><span class="built_in">declare</span> -r name  <span class="comment"># 两种写法均可</span></span><br><span class="line"></span><br><span class="line">name=abc  <span class="comment"># 会报错，因为此时name只读</span></span><br></pre></td></tr></table></figure><br><strong>删除变量</strong><br><code>unset</code> 可以删除变量。<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name=yxc</span><br><span class="line"><span class="built_in">unset</span> name</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span>  <span class="comment"># 输出空行</span></span><br></pre></td></tr></table></figure><br><strong>变量类型</strong><p></p><ol><li>自定义变量（局部变量）<br>子进程不能访问的变量 (使用 bash 命令可以在当前进程下开启一个子进程，用 exit 退出)</li><li>环境变量（全局变量）<br>子进程可以访问的变量<br>自定义变量改成环境变量：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ name=yxc  <span class="comment"># 定义变量</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">export</span> name  <span class="comment"># 第一种方法</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">declare</span> -x name  <span class="comment"># 第二种方法</span></span><br></pre></td></tr></table></figure><br>环境变量改为自定义变量：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">export</span> name=yxc  <span class="comment"># 定义环境变量</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">declare</span> +x name  <span class="comment"># 改为自定义变量</span></span><br></pre></td></tr></table></figure><br><strong>字符串</strong><br>字符串可以用单引号，也可以用双引号，也可以不用引号。</li></ol><p>单引号与双引号的区别：</p><ul><li>单引号中的内容会原样输出，不会执行、不会取变量，不转义；</li><li>双引号中的内容可以执行、可以取变量；<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name=yxc  <span class="comment"># 不用引号</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;hello, $name \&quot;hh\&quot;&#x27;</span>  <span class="comment"># 单引号字符串，输出 hello, $name \&quot;hh\&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello, <span class="variable">$name</span> \&quot;hh\&quot;&quot;</span>  <span class="comment"># 双引号字符串，输出 hello, yxc &quot;hh&quot;</span></span><br></pre></td></tr></table></figure><br>获取字符串长度<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;yxc&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#name&#125;</span>  <span class="comment"># 输出3</span></span><br></pre></td></tr></table></figure><br>提取子串<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;hello, yxc&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name:0:5&#125;</span>  <span class="comment"># 提取从0开始的5个字符，输出hello</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="默认变量"><a class="anchor" href="#默认变量">#</a> 默认变量</h3><p><strong>文件参数变量</strong><br>在执行 shell 脚本时，可以向脚本传递参数。 <code>$1</code> 是第一个参数， <code>$2</code> 是第二个参数，以此类推。特殊的， <code>$0</code> 是文件名（包含路径）。例如：</p><p>创建文件 <code>test.sh</code> ：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;文件名：&quot;</span><span class="variable">$0</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第一个参数：&quot;</span><span class="variable">$1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第二个参数：&quot;</span><span class="variable">$2</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第三个参数：&quot;</span><span class="variable">$3</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;第四个参数：&quot;</span><span class="variable">$4</span></span><br></pre></td></tr></table></figure><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">然后执行该脚本：</span><br><span class="line"></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test.sh </span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh 1 2 3 4</span><br><span class="line">文件名：./test.sh</span><br><span class="line">第一个参数：1</span><br><span class="line">第二个参数：2</span><br><span class="line">第三个参数：3</span><br><span class="line">第四个参数：4</span><br></pre></td></tr></table></figure><br><strong>其它参数相关变量</strong><p></p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><code>$#</code></td><td style="text-align:center">代表文件传入的参数个数，如上例中值为 4</td></tr><tr><td style="text-align:center"><code>$*</code></td><td style="text-align:center">由所有参数构成的用空格隔开的字符串，如上例中值为 <code>&quot;$1 $2 $3 $4&quot;</code></td></tr><tr><td style="text-align:center"><code>$@</code></td><td style="text-align:center">每个参数分别用双引号括起来的字符串，如上例中值为 <code>&quot;$1&quot; &quot;$2&quot; &quot;$3&quot; &quot;$4&quot;</code></td></tr><tr><td style="text-align:center"><code>$$</code></td><td style="text-align:center">脚本当前运行的进程 ID</td></tr><tr><td style="text-align:center"><code>$?</code></td><td style="text-align:center">上一条命令的退出状态（注意不是 <code>stdout</code> ，而是 <code>exit code）</code> 。0 表示正常退出，其他值表示错误</td></tr><tr><td style="text-align:center"><code>$(command)</code></td><td style="text-align:center">返回 <code>command</code> <strong>这条命令</strong>例如 ls 的 <code>stdout</code> （可嵌套）</td></tr><tr><td style="text-align:center">`command`</td><td style="text-align:center">返回 <code>command</code> <strong>这条命令</strong>例如 ls 的 <code>stdout</code> （不可嵌套）</td></tr></tbody></table><h3 id="数组"><a class="anchor" href="#数组">#</a> 数组</h3><p><strong>定义</strong><br>数组用小括号表示，元素之间用空格隔开。例如：</p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array=(1 abc <span class="string">&quot;def&quot;</span> yxc)</span><br></pre></td></tr></table></figure><br>也可以直接定义数组中某个元素的值：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array[0]=1</span><br><span class="line">array[1]=abc</span><br><span class="line">array[2]=<span class="string">&quot;def&quot;</span></span><br><span class="line">array[3]=yxc</span><br></pre></td></tr></table></figure><br><strong>读取数组中某个元素的值</strong><br>格式：<p></p><p><code>$&#123;array[index]&#125;</code><br>例如：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array=(1 abc <span class="string">&quot;def&quot;</span> yxc)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[0]&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[1]&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[2]&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[3]&#125;</span></span><br></pre></td></tr></table></figure><br><strong>读取整个数组</strong><br>格式：<p></p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;array[@]&#125;</span>  <span class="comment"># 第一种写法</span></span><br><span class="line"><span class="variable">$&#123;array[*]&#125;</span>  <span class="comment"># 第二种写法</span></span><br></pre></td></tr></table></figure><br>例如：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array=(1 abc <span class="string">&quot;def&quot;</span> yxc)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[@]&#125;</span>  <span class="comment"># 第一种写法</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[*]&#125;</span>  <span class="comment"># 第二种写法</span></span><br></pre></td></tr></table></figure><br><strong>数组长度</strong><br>类似于字符串<p></p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;#array[@]&#125;</span>  <span class="comment"># 第一种写法</span></span><br><span class="line"><span class="variable">$&#123;#array[*]&#125;</span>  <span class="comment"># 第二种写法</span></span><br></pre></td></tr></table></figure><br>例如：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array=(1 abc <span class="string">&quot;def&quot;</span> yxc)</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#array[@]&#125;</span>  <span class="comment"># 第一种写法</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#array[*]&#125;</span>  <span class="comment"># 第二种写法</span></span><br></pre></td></tr></table></figure><p></p><h3 id="expr命令"><a class="anchor" href="#expr命令">#</a> expr 命令</h3><p><code>expr</code> 命令用于求表达式的值，格式为：</p><p><code>expr 表达式</code><br>表达式说明：</p><p>用空格隔开每一项<br>用反斜杠放在 shell 特定的字符前面（发现表达式运行错误时，可以试试转义）<br>对包含空格和其他特殊字符的字符串要用引号括起来<br>expr 会在 <code>stdout</code> 中输出结果。如果为逻辑关系表达式，则结果为真时，stdout 输出 1，否则输出 0。<br>expr 的 <code>exit code</code> ：如果为逻辑关系表达式，则结果为真时， <code>exit code</code> 为 0，否则为 1。<br><strong>字符串表达式</strong></p><ul><li><p><code>length STRING</code><br>返回 <code>STRING</code> 的长度</p></li><li><p><code>index STRING CHARSET</code><br><code>CHARSET</code> 中任意单个字符在 STRING 中最前面的字符位置，下标从 1 开始。如果在 <code>STRING</code> 中完全不存在 CHARSET 中的字符，则返回 0。</p></li><li><p><code>substr STRING POSITION LENGTH</code><br>返回 <code>STRING</code> 字符串中从 <code>POSITION</code> 开始，长度最大为 <code>LENGTH</code> 的子串。如果 <code>POSITION</code> 或 <code>LENGTH</code> 为负数，0 或非数值，则返回空字符串。<br>示例：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> length <span class="string">&quot;<span class="variable">$str</span>&quot;</span>`  <span class="comment"># ``不是单引号，表示执行该命令，输出12</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> index <span class="string">&quot;<span class="variable">$str</span>&quot;</span> aWd`  <span class="comment"># 输出7，下标从1开始</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> substr <span class="string">&quot;<span class="variable">$str</span>&quot;</span> 2 3`  <span class="comment"># 输出 ell</span></span><br></pre></td></tr></table></figure><br><strong>整数表达式</strong><br>expr 支持普通的算术操作，算术表达式优先级低于字符串表达式，高于逻辑关系表达式。<p></p></li><li><p><code>+ -</code><br>加减运算。两端参数会转换为整数，如果转换失败则报错。</p></li><li><p><code>* / %</code><br>乘，除，取模运算。两端参数会转换为整数，如果转换失败则报错。</p></li></ul><p>() 可以改变优先级，但需要用反斜杠转义</p><p>示例：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=3</span><br><span class="line">b=4</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> + <span class="variable">$b</span>`  <span class="comment"># 输出7</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> - <span class="variable">$b</span>`  <span class="comment"># 输出-1</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \* <span class="variable">$b</span>`  <span class="comment"># 输出12，*需要转义</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> / <span class="variable">$b</span>`  <span class="comment"># 输出0，整除</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> % <span class="variable">$b</span>` <span class="comment"># 输出3</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> \( <span class="variable">$a</span> + 1 \) \* \( <span class="variable">$b</span> + 1 \)`  <span class="comment"># 输出20，值为(a + 1) * (b + 1)</span></span><br></pre></td></tr></table></figure><br><strong>逻辑关系表达式</strong><p></p><ul><li><p><code>|</code><br>如果第一个参数非空且非 0，则返回第一个参数的值，否则返回第二个参数的值，但要求第二个参数的值也是非空或非 0，否则返回 0。如果第一个参数是非空或非 0 时，不会计算第二个参数。</p></li><li><p><code>&amp;</code><br>如果两个参数都非空且非 0，则返回第一个参数，否则返回 0。如果第一个参为 0 或为空，则不会计算第二个参数。</p></li><li><p><code>&lt; &lt;= = == != &gt;= &gt;</code><br>比较两端的参数，如果为 true，则返回 1，否则返回 0。”==” 是”=” 的同义词。”expr” 首先尝试将两端参数转换为整数，并做算术比较，如果转换失败，则按字符集排序规则做字符比较。</p></li></ul><p>() 可以改变优先级，但需要用反斜杠转义<br>示例：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a=3</span><br><span class="line">b=4</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \&gt; <span class="variable">$b</span>`  <span class="comment"># 输出0，&gt;需要转义</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> <span class="string">&#x27;&lt;&#x27;</span> <span class="variable">$b</span>`  <span class="comment"># 输出1，也可以将特殊字符用引号引起来</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> <span class="string">&#x27;&gt;=&#x27;</span> <span class="variable">$b</span>`  <span class="comment"># 输出0</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \&lt;\= <span class="variable">$b</span>`  <span class="comment"># 输出1</span></span><br><span class="line"></span><br><span class="line">c=0</span><br><span class="line">d=5</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$c</span> \&amp; <span class="variable">$d</span>`  <span class="comment"># 输出0</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \&amp; <span class="variable">$b</span>`  <span class="comment"># 输出3</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$c</span> \| <span class="variable">$d</span>`  <span class="comment"># 输出5</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> <span class="variable">$a</span> \| <span class="variable">$b</span>`  <span class="comment"># 输出3</span></span><br></pre></td></tr></table></figure><p></p><h3 id="read命令"><a class="anchor" href="#read命令">#</a> read 命令</h3><p><code>read</code> 命令用于从标准输入中读取单行数据。当读到文件结束符时， <code>exit code</code> 为 1，否则为 0。</p><p>参数说明</p><p><code>-p</code> : 后面可以接提示信息<br><code>-t</code> ：后面跟秒数，定义输入字符的等待时间，超过等待时间后会自动忽略此命令<br>实例：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">read</span> name  <span class="comment"># 读入name的值</span></span><br><span class="line">acwing yxc  <span class="comment"># 标准输入</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">echo</span> <span class="variable">$name</span>  <span class="comment"># 输出name的值</span></span><br><span class="line">acwing yxc  <span class="comment">#标准输出</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">read</span> -p <span class="string">&quot;Please input your name: &quot;</span> -t 30 name  <span class="comment"># 读入name的值，等待时间30秒</span></span><br><span class="line">Please input your name: acwing yxc  <span class="comment"># 标准输入</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">echo</span> <span class="variable">$name</span>  <span class="comment"># 输出name的值</span></span><br><span class="line">acwing yxc  <span class="comment"># 标准输出</span></span><br></pre></td></tr></table></figure><p></p><h3 id="echo命令"><a class="anchor" href="#echo命令">#</a> echo 命令</h3><p><code>echo</code> 用于输出字符串。命令格式：</p><p><code>echo STRING</code><br><strong>显示普通字符串</strong><br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello AC Terminal&quot;</span></span><br><span class="line"><span class="built_in">echo</span> Hello AC Terminal  <span class="comment"># 引号可以省略</span></span><br></pre></td></tr></table></figure><br><strong>显示转义字符</strong><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;\&quot;Hello AC Terminal\&quot;&quot;</span>  <span class="comment"># 注意只能使用双引号，如果使用单引号，则不转义</span></span><br><span class="line"><span class="built_in">echo</span> \&quot;Hello AC Terminal\&quot;  <span class="comment"># 也可以省略双引号</span></span><br></pre></td></tr></table></figure><br><strong>显示变量</strong><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=yxc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;My name is <span class="variable">$name</span>&quot;</span>  <span class="comment"># 输出 My name is yxc</span></span><br></pre></td></tr></table></figure><br><strong>显示换行</strong><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;Hi\n&quot;</span>  <span class="comment"># -e 开启转义</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;acwing&quot;</span></span><br></pre></td></tr></table></figure><br>输出结果：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hi</span><br><span class="line"></span><br><span class="line">acwing</span><br></pre></td></tr></table></figure><br><strong>显示不换行</strong><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;Hi \c&quot;</span> <span class="comment"># -e 开启转义 \c 不换行</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;acwing&quot;</span></span><br></pre></td></tr></table></figure><br>输出结果：<p></p><p><code>Hi acwing</code><br><strong>显示结果定向至文件</strong><br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Hello World&quot;</span> &gt; output.txt  <span class="comment"># 将内容以覆盖的方式输出到output.txt中</span></span><br></pre></td></tr></table></figure><br><strong>原样输出字符串，不进行转义或取变量 (用单引号)</strong><br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=acwing</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$name\&quot;&#x27;</span></span><br></pre></td></tr></table></figure><br>输出结果<p></p><p><code>$name\&quot;</code><br><strong>显示命令的执行结果</strong><br><code>echo `date`</code><br>输出结果：</p><p><code>Wed Sep 1 11:45:33 CST 2021</code></p><h3 id="printf命令"><a class="anchor" href="#printf命令">#</a> printf 命令</h3><p><code>printf</code> 命令用于格式化输出，类似于 <code>C/C++</code> 中的 <code>printf</code> 函数。</p><p>默认<strong>不会在字符串末尾添加换行符。</strong></p><p>命令格式：</p><p><code>printf format-string [arguments...]</code><br><strong>用法示例</strong><br>脚本内容：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%10d.\n&quot;</span> 123  <span class="comment"># 占10位，右对齐</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%-10.2f.\n&quot;</span> 123.123321  <span class="comment"># 占10位，保留2位小数，左对齐</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;My name is %s\n&quot;</span> <span class="string">&quot;yxc&quot;</span>  <span class="comment"># 格式化输出字符串</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%d * %d = %d\n&quot;</span>  2 3 `<span class="built_in">expr</span> 2 \* 3` <span class="comment"># 表达式的值作为参数</span></span><br></pre></td></tr></table></figure><br>输出结果：<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">       <span class="number">123.</span></span><br><span class="line"><span class="number">123.12</span>    .</span><br><span class="line">My name is yxc</span><br><span class="line"><span class="number">2</span> * <span class="number">3</span> = <span class="number">6</span></span><br></pre></td></tr></table></figure><p></p><h3 id="test命令与判断符号"><a class="anchor" href="#test命令与判断符号">#</a> test 命令与判断符号 []</h3><p><strong>逻辑运算符 &amp;&amp; 和 ||</strong></p><ul><li><code>&amp;&amp;</code> 表示与， <code>||</code> 表示或</li><li>二者具有短路原则：<br><code>expr1 &amp;&amp; expr2</code> ：当 <code>expr1</code> 为假时，直接忽略 <code>expr2</code><br><code>expr1 || expr2</code> ：当 <code>expr1</code> 为真时，直接忽略 <code>expr2</code></li><li>表达式的 exit code 为 0，表示真；为非零，表示假。（与 C/C++ 中的定义相反）<br><strong>test 命令</strong><br>在命令行中输入 <code>man tes</code> t，可以查看 <code>tes</code> t 命令的用法。</li></ul><p><code>test</code> 命令用于判断文件类型，以及对变量做比较。</p><p><code>test</code> 命令用 <code>exit code</code> 返回结果，而不是使用 <code>stdout</code> 。0 表示真，非 0 表示假。<br>凡是输出表示结果 1 真 0 假，凡是用进程状态表示结果 0 真 1 假<br>例如：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">test</span> 2 -lt 3  <span class="comment"># 为真，返回值为0</span></span><br><span class="line"><span class="built_in">echo</span> $?  <span class="comment"># 输出上个命令的返回值，输出0</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">ls</span>  <span class="comment"># 列出当前目录下的所有文件</span></span><br><span class="line">homework  output.txt  test.sh  tmp</span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">test</span> -e test.sh &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;Not exist&quot;</span></span><br><span class="line">exist  <span class="comment"># test.sh 文件存在</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">test</span> -e test2.sh &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;Not exist&quot;</span></span><br><span class="line">Not exist  <span class="comment"># testh2.sh 文件不存在</span></span><br></pre></td></tr></table></figure><br><strong>文件类型判断</strong><br>命令格式：<p></p><p><code>test -e filename # 判断文件是否存在</code></p><table><thead><tr><th style="text-align:center">测试参数</th><th style="text-align:center">代表意义</th></tr></thead><tbody><tr><td style="text-align:center">-e</td><td style="text-align:center">文件是否存在</td></tr><tr><td style="text-align:center">-f</td><td style="text-align:center">是否为文件</td></tr><tr><td style="text-align:center">-d</td><td style="text-align:center">是否为目录</td></tr></tbody></table><hr><p><strong>文件权限判断</strong><br>命令格式：</p><p><code>test -r filename # 判断文件是否可读</code></p><table><thead><tr><th style="text-align:left">测试参数</th><th style="text-align:left">代表意义</th></tr></thead><tbody><tr><td style="text-align:left">-r</td><td style="text-align:left">文件是否可读</td></tr><tr><td style="text-align:left">-w</td><td style="text-align:left">文件是否可写</td></tr><tr><td style="text-align:left">-x</td><td style="text-align:left">文件是否可执行</td></tr><tr><td style="text-align:left">-s</td><td style="text-align:left">是否为非空文件</td></tr></tbody></table><hr><p><strong>整数间的比较</strong><br>命令格式：</p><p><code>test $a -eq $b # a是否等于b</code></p><table><thead><tr><th style="text-align:left">测试参数</th><th style="text-align:left">代表意义</th></tr></thead><tbody><tr><td style="text-align:left">-eq</td><td style="text-align:left">a 是否等于 b</td></tr><tr><td style="text-align:left">-ne</td><td style="text-align:left">a 是否不等于 b</td></tr><tr><td style="text-align:left">-gt</td><td style="text-align:left">a 是否大于 b</td></tr><tr><td style="text-align:left">-lt</td><td style="text-align:left">a 是否小于 b</td></tr><tr><td style="text-align:left">-ge</td><td style="text-align:left">a 是否大于等于 b</td></tr><tr><td style="text-align:left">-le</td><td style="text-align:left">a 是否小于等于 b</td></tr></tbody></table><p>在 shell 脚本中，使用 - eq、-ne、-gt、-ge、-lt、-le 进行整数的比较。英文意思分别为：</p><p>-eq ：equal（相等）</p><p>-ne ：not equal（不等）</p><p>-gt ：greater than（大于）</p><p>-ge ：greater than or equal（大于或等于）</p><p>-lt ：less than（小于）</p><p>-le ：less than or equal（小于或等于）</p><p>注意：在 shell 中这些符号只能用于整数的比较，不能用于字符串。</p><hr><p><strong>字符串比较</strong></p><table><thead><tr><th style="text-align:left">测试参数</th><th style="text-align:left">代表意义</th></tr></thead><tbody><tr><td style="text-align:left">test -z STRING</td><td style="text-align:left">判断 STRING 是否为空，如果为空，则返回 true</td></tr><tr><td style="text-align:left">test -n STRING</td><td style="text-align:left">判断 STRING 是否非空，如果非空，则返回 true（-n 可以省略）</td></tr><tr><td style="text-align:left">test str1 == str2</td><td style="text-align:left">判断 str1 是否等于 str2</td></tr><tr><td style="text-align:left">test str1 != str2</td><td style="text-align:left">判断 str1 是否不等于 str2</td></tr></tbody></table><hr><p><strong>多重条件判定</strong><br>命令格式：</p><p><code>test -r filename -a -x filename</code></p><table><thead><tr><th style="text-align:left">测试参数</th><th style="text-align:left">代表意义</th></tr></thead><tbody><tr><td style="text-align:left">-a</td><td style="text-align:left">两条件是否同时成立</td></tr><tr><td style="text-align:left">-o</td><td style="text-align:left">两条件是否至少一个成立</td></tr><tr><td style="text-align:left">!</td><td style="text-align:left">取反。如 test ! -x file，当 file 不可执行时，返回 true</td></tr></tbody></table><hr><p><strong>判断符号 []</strong><br><code>[]</code> 与 <code>test</code> 用法几乎一模一样，更常用于 <code>if</code> 语句中。另外 <code>[[]]</code> 是 <code>[]</code> 的加强版，支持的特性更多。</p><p>例如：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[ 2 -lt 3 ]  <span class="comment"># 为真，返回值为0</span></span><br><span class="line"><span class="built_in">echo</span> $?  <span class="comment"># 输出上个命令的返回值，输出0</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">ls</span>  <span class="comment"># 列出当前目录下的所有文件</span></span><br><span class="line">homework  output.txt  test.sh  tmp</span><br><span class="line">acs@9e0ebfcd82d7:~$ [ -e test.sh ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;Not exist&quot;</span></span><br><span class="line">exist  <span class="comment"># test.sh 文件存在</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ [ -e test2.sh ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;exist&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;Not exist&quot;</span></span><br><span class="line">Not exist  <span class="comment"># testh2.sh 文件不存在</span></span><br></pre></td></tr></table></figure><br>注意：<p></p><ul><li><code>[]</code> 内的每一项都要用空格隔开</li><li>中括号内的变量，最好用双引号括起来</li><li>中括号内的常数，最好用单或双引号括起来<br>例如：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="string">&quot;acwing yxc&quot;</span></span><br><span class="line">[ <span class="variable">$name</span> == <span class="string">&quot;acwing yxc&quot;</span> ]  <span class="comment"># 错误，等价于 [ acwing yxc == &quot;acwing yxc&quot; ]，参数太多</span></span><br><span class="line">[ <span class="string">&quot;<span class="variable">$name</span>&quot;</span> == <span class="string">&quot;acwing yxc&quot;</span> ]  <span class="comment"># 正确</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="判断语句"><a class="anchor" href="#判断语句">#</a> 判断语句</h3><p><strong>if…then 形式</strong><br>类似于 <code>C/C++</code> 中的 <code>if-else</code> 语句。</p><p><strong>单层 if</strong><br>命令格式：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><br>示例：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=3</span><br><span class="line">b=4</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$a</span>&quot;</span> -lt <span class="string">&quot;<span class="variable">$b</span>&quot;</span> ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$a</span>&quot;</span> -gt 2 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>在范围内</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><br>输出结果：<p></p><p><code>3在范围内</code><br><strong>单层 if-else</strong><br>命令格式<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><br>示例：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=3</span><br><span class="line">b=4</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ! [ <span class="string">&quot;<span class="variable">$a</span>&quot;</span> -lt <span class="string">&quot;<span class="variable">$b</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>不小于<span class="variable">$&#123;b&#125;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>小于<span class="variable">$&#123;b&#125;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><br>输出结果：<p></p><p><code>3小于4</code><br><strong>多层 if-elif-elif-else</strong><br>命令格式<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">elif</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">elif</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><br>示例：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a=4</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -eq 1 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于1</span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$a</span> -eq 2 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于2</span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$a</span> -eq 3 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于3</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> 其他</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><br>输出结果：<p></p><p><code>其他</code><br>case…esac 形式<br>类似于 <code>C/C++</code> 中的 <code>switch</code> 语句。</p><p>命令格式<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> $变量名称 <span class="keyword">in</span></span><br><span class="line">    值1)</span><br><span class="line">        语句1</span><br><span class="line">        语句2</span><br><span class="line">        ...</span><br><span class="line">        ;;  <span class="comment"># 类似于C/C++中的break</span></span><br><span class="line">    值2)</span><br><span class="line">        语句1</span><br><span class="line">        语句2</span><br><span class="line">        ...</span><br><span class="line">        ;;</span><br><span class="line">    *)  <span class="comment"># 类似于C/C++中的default</span></span><br><span class="line">        语句1</span><br><span class="line">        语句2</span><br><span class="line">        ...</span><br><span class="line">        ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><br>示例：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a=4</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$a</span> <span class="keyword">in</span></span><br><span class="line">    1)</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于1</span><br><span class="line">        ;;  </span><br><span class="line">    2)</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于2</span><br><span class="line">        ;;  </span><br><span class="line">    3)                                                </span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$&#123;a&#125;</span>等于3</span><br><span class="line">        ;;  </span><br><span class="line">    *)</span><br><span class="line">        <span class="built_in">echo</span> 其他</span><br><span class="line">        ;;  </span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><br>输出结果：<p></p><p><code>其他</code></p><h3 id="循环语句"><a class="anchor" href="#循环语句">#</a> 循环语句</h3><p><strong>for…in…do…done</strong><br>命令格式：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> val1 val2 val3</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>示例 1，输出 a 2 cc，每个元素一行：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a 2 cc</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>示例 2，输出当前路径下的所有文件名，每个文件名一行：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `<span class="built_in">ls</span>`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$file</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>示例 3，输出 1-10<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(<span class="built_in">seq</span> 1 10)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>示例 4，使用 {1..10} 或者 {a..z}<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;a..z&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br><strong>for ((…;…;…)) do…done</strong><br>命令格式：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((expression; condition; expression))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>示例，输出 1-10，每个数占一行：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((i=<span class="number">1</span>; i&lt;=<span class="number">10</span>; i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br><strong>while…do…done 循环</strong><br>命令格式：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>示例，文件结束符为 <code>Ctrl+d</code> ，输入文件结束符后 <code>read</code> 指令返回 false。<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> name</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$name</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br><strong>until…do…done 循环</strong><br>当条件为真时结束。<p></p><p>命令格式：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">until</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>示例，当用户输入 <code>yes</code> 或者 <code>YES</code> 时结束，否则一直等待读入。<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">until</span> [ <span class="string">&quot;<span class="variable">$&#123;word&#125;</span>&quot;</span> == <span class="string">&quot;yes&quot;</span> ] || [ <span class="string">&quot;<span class="variable">$&#123;word&#125;</span>&quot;</span> == <span class="string">&quot;YES&quot;</span> ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">read</span> -p <span class="string">&quot;Please input yes/YES to stop this program: &quot;</span> word</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br><strong>break 命令</strong><br>跳出当前一层循环，注意与 C/C++ 不同的是：break 不能跳出 case 语句。<p></p><p>示例<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> name</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span> ((i=<span class="number">1</span>;i&lt;=<span class="number">10</span>;i++))</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">case</span> <span class="variable">$i</span> <span class="keyword">in</span></span><br><span class="line">            8)</span><br><span class="line">                <span class="built_in">break</span></span><br><span class="line">                ;;</span><br><span class="line">            *)</span><br><span class="line">                <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line">                ;;</span><br><span class="line">        <span class="keyword">esac</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>该示例每读入非 EOF 的字符串，会输出一遍 1-7。<br>该程序可以输入 Ctrl+d 文件结束符来结束，也可以直接用 Ctrl+c 杀掉该进程。<p></p><p><strong>continue 命令</strong><br>跳出当前循环。</p><p>示例：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((i=<span class="number">1</span>;i&lt;=<span class="number">10</span>;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ `<span class="built_in">expr</span> <span class="variable">$i</span> % 2` -eq 0 ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">continue</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><br>该程序输出 1-10 中的所有奇数。<p></p><p><strong>死循环的处理方式</strong><br>如果 AC Terminal 可以打开该程序，则输入 <code>Ctrl+c</code> 即可。</p><p>否则可以直接关闭进程：</p><ol><li>使用 <code>top</code> 或 <code>ps aux</code> 命令找到进程的 PID</li><li>输入 <code>kill -9 PID</code> 即可关掉此进程</li></ol><h3 id="函数"><a class="anchor" href="#函数">#</a> 函数</h3><p><code>bash</code> 中的函数类似于 <code>C/C++</code> 中的函数，但 <code>return</code> 的返回值与 <code>C/C++</code> 不同，返回的是 <code>exit code</code> ，取值为 <code>0-255</code> ， <code>0</code> 表示正常结束。</p><p>如果想获取函数的输出结果，可以通过 <code>echo</code> 输出到 <code>stdout</code> 中，然后通过 <code>$(function_name)</code> 来获取 <code>stdout</code> 中的结果。</p><p>函数的 <code>return</code> 值可以通过 <code>$?</code> 来获取。</p><p>命令格式：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">function</span>] <span class="function"><span class="title">func_name</span></span>() &#123;  <span class="comment"># function关键字可以省略</span></span><br><span class="line">    语句1</span><br><span class="line">    语句2</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>不获取 return 值和 stdout 值</strong><br>示例<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    name=yxc</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello <span class="variable">$name</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func</span><br></pre></td></tr></table></figure><br>输出结果：<p></p><p><code>Hello yxc</code><br><strong>获取 <code>return</code> 值和 <code>stdout</code> 值</strong><br>不写 return 时，默认 return 0。</p><p>示例<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    name=yxc</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Hello <span class="variable">$name</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">return</span> 123</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">output=$(func)</span><br><span class="line">ret=$?</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;output = <span class="variable">$output</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;return = <span class="variable">$ret</span>&quot;</span></span><br></pre></td></tr></table></figure><br>输出结果：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">output = Hello yxc</span><br><span class="line">return = 123</span><br></pre></td></tr></table></figure><br><strong>函数的输入参数</strong><br>在函数内， <code>$1</code> 表示第一个输入参数， <code>$2</code> 表示第二个输入参数，依此类推。<p></p><p>注意：函数内的 $ <code>0</code> 仍然是文件名，而不是函数名。</p><p>示例：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">func</span></span>() &#123;  <span class="comment"># 递归计算 $1 + ($1 - 1) + ($1 - 2) + ... + 0</span></span><br><span class="line">    word=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">while</span> [ <span class="string">&quot;<span class="variable">$&#123;word&#125;</span>&quot;</span> != <span class="string">&#x27;y&#x27;</span> ] &amp;&amp; [ <span class="string">&quot;<span class="variable">$&#123;word&#125;</span>&quot;</span> != <span class="string">&#x27;n&#x27;</span> ]</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">read</span> -p <span class="string">&quot;要进入func(<span class="variable">$1</span>)函数吗？请输入y/n：&quot;</span> word</span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$word</span>&quot;</span> == <span class="string">&#x27;n&#x27;</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> 0</span><br><span class="line">        <span class="built_in">return</span> 0</span><br><span class="line">    <span class="keyword">fi</span>  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$1</span> -le 0 ] </span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> 0</span><br><span class="line">        <span class="built_in">return</span> 0</span><br><span class="line">    <span class="keyword">fi</span>  </span><br><span class="line"></span><br><span class="line">    <span class="built_in">sum</span>=$(func $(<span class="built_in">expr</span> <span class="variable">$1</span> - 1))</span><br><span class="line">    <span class="built_in">echo</span> $(<span class="built_in">expr</span> <span class="variable">$sum</span> + <span class="variable">$1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> $(func 10)</span><br></pre></td></tr></table></figure><br>输出结果：<p></p><p><code>55</code><br><strong>函数内的局部变量</strong><br>可以在函数内定义局部变量，作用范围仅在当前函数内。</p><p>可以在递归函数中定义局部变量。</p><p>命令格式：</p><p><code>local 变量名=变量值</code><br>例如：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">func</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> name=yxc</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$name</span></span><br><span class="line">&#125;</span><br><span class="line">func</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span></span><br></pre></td></tr></table></figure><br>输出结果：<p></p><p><code>yxc</code></p><p>第一行为函数内的 name 变量，第二行为函数外调用 name 变量，会发现此时该变量不存在。</p><h3 id="exit命令"><a class="anchor" href="#exit命令">#</a> exit 命令</h3><p><code>exit</code> 命令用来退出当前 <code>shell</code> 进程，并返回一个退出状态；使用 $? 可以接收这个退出状态。</p><p><code>exit</code> 命令可以接受一个整数值作为参数，代表退出状态。如果不指定，默认状态值是 0。</p><p><code>exit</code> 退出状态只能是一个介于 0~255 之间的整数，其中只有 0 表示成功，其它值都表示失败。</p><p>示例：</p><p>创建脚本 <code>test.sh</code> ，内容如下：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -ne 1 ]  <span class="comment"># 如果传入参数个数等于1，则正常退出；否则非正常退出。</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;arguments not valid&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;arguments valid&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><br>执行该脚本：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test.sh </span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh acwing</span><br><span class="line">arguments valid</span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">echo</span> $?  <span class="comment"># 传入一个参数，则正常退出，exit code为0</span></span><br><span class="line">0</span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh </span><br><span class="line">arguments not valid</span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">echo</span> $?  <span class="comment"># 传入参数个数不是1，则非正常退出，exit code为1</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure><p></p><h3 id="文件重定向"><a class="anchor" href="#文件重定向">#</a> 文件重定向</h3><p>每个进程默认打开 3 个文件描述符：</p><ul><li><code>stdin</code> 标准输入，从命令行读取数据，文件描述符为 0</li><li><code>stdout</code> 标准输出，向命令行输出数据，文件描述符为 1</li><li><code>stderr</code> 标准错误输出，向命令行输出数据，文件描述符为 2<br>可以用文件重定向将这三个文件重定向到其他文件中。</li></ul><p><strong>重定向命令列表</strong></p><table><thead><tr><th style="text-align:left">命令</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td style="text-align:left">command &gt; file</td><td style="text-align:left">将 stdout 重定向到 file 中</td></tr><tr><td style="text-align:left">command &lt; file</td><td style="text-align:left">将 stdin 重定向到 file 中</td></tr><tr><td style="text-align:left">command &gt;&gt; file</td><td style="text-align:left">将 stdout 以追加方式重定向到 file 中</td></tr><tr><td style="text-align:left">command n&gt; file</td><td style="text-align:left">将文件描述符 n 重定向到 file 中</td></tr><tr><td style="text-align:left">command n&gt;&gt; file</td><td style="text-align:left">将文件描述符 n 以追加方式重定向到 file 中</td></tr></tbody></table><hr><p><strong>输入和输出重定向</strong><br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;Hello \c&quot;</span> &gt; output.txt  <span class="comment"># 将stdout重定向到output.txt中</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;World&quot;</span> &gt;&gt; output.txt  <span class="comment"># 将字符串追加到output.txt中</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> str &lt; output.txt  <span class="comment"># 从output.txt中读取字符串</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$str</span>  <span class="comment"># 输出结果：Hello World</span></span><br></pre></td></tr></table></figure><br><strong>同时重定向 stdin 和 stdout</strong><br>创建 bash 脚本：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> a</span><br><span class="line"><span class="built_in">read</span> b</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> $(<span class="built_in">expr</span> <span class="string">&quot;<span class="variable">$a</span>&quot;</span> + <span class="string">&quot;<span class="variable">$b</span>&quot;</span>)</span><br></pre></td></tr></table></figure><br>创建 input.txt，里面的内容为：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure><br>执行命令：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test.sh  <span class="comment"># 添加可执行权限</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test.sh &lt; input.txt &gt; output.txt  <span class="comment"># 从input.txt中读取内容，将输出写入output.txt中</span></span><br><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">cat</span> output.txt  <span class="comment"># 查看output.txt中的内容</span></span><br><span class="line">7</span><br></pre></td></tr></table></figure><p></p><h3 id="引入外部脚本"><a class="anchor" href="#引入外部脚本">#</a> 引入外部脚本</h3><p>类似于 <code>C/C++</code> 中的 <code>include</code> 操作， <code>bash</code> 也可以引入其他文件中的代码，相当于将脚本内容填充到文件。</p><p>语法格式：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">. filename  <span class="comment"># 注意点和文件名之间有一个空格</span></span><br><span class="line"></span><br><span class="line">或</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> filename</span><br></pre></td></tr></table></figure><br><strong>示例</strong><br>创建 <code>test1.sh</code> ，内容为：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line">name=yxc  <span class="comment"># 定义变量name</span></span><br></pre></td></tr></table></figure><br>然后创建 <code>test2.sh</code> ，内容为：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> test1.sh <span class="comment"># 或 . test1.sh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> My name is: <span class="variable">$name</span>  <span class="comment"># 可以使用test1.sh中的变量</span></span><br></pre></td></tr></table></figure><br>执行命令：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">acs@9e0ebfcd82d7:~$ <span class="built_in">chmod</span> +x test2.sh </span><br><span class="line">acs@9e0ebfcd82d7:~$ ./test2.sh </span><br><span class="line">My name is: yxc</span><br></pre></td></tr></table></figure><p></p><hr><h2 id="ssh"><a class="anchor" href="#ssh">#</a> SSH</h2><h3 id="ssh登录"><a class="anchor" href="#ssh登录">#</a> ssh 登录</h3><p><strong>基本用法</strong><br>远程登录服务器：用于管理多个服务器</p><p><code>ssh user@hostname</code></p><ul><li><code>user</code> : 用户名</li><li><code>hostname</code> : IP 地址或域名<br>第一次登录时会提示：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host &#x27;123.57.47.211 (123.57.47.211)&#x27; can&#x27;t be established.</span><br><span class="line">ECDSA key fingerprint is SHA256:iy237yysfCe013/l+kpDGfEG9xxHxm0dnxnAbJTPpG8.</span><br><span class="line">Are you sure you want to continue connecting (yes/no/[fingerprint])?</span><br></pre></td></tr></table></figure><br>输入 <code>yes</code> ，然后回车即可。<br>这样会将该服务器的信息记录在 <code>~/.ssh/known_hosts</code> 文件中。</li></ul><p>然后输入密码即可登录到远程服务器中。</p><p>默认登录端口号为 22。如果想登录某一特定端口：</p><p><code>ssh user@hostname -p 22</code><br><strong>配置文件</strong><br>创建文件 <code>~/.ssh/config</code> 。</p><p>然后在文件中输入：<br></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Host myserver1</span><br><span class="line">    HostName IP地址或域名</span><br><span class="line">    User 用户名</span><br><span class="line"></span><br><span class="line">Host myserver2</span><br><span class="line">    HostName IP地址或域名</span><br><span class="line">    User 用户名</span><br></pre></td></tr></table></figure><br>之后再使用服务器时，可以直接使用别名 <code>myserver1</code> 、 <code>myserver2</code> 。<p></p><p><strong>密钥登录</strong><br>创建密钥：</p><p><code>ssh-keygen</code><br>然后一直回车即可。</p><p>执行结束后， <code>~/.ssh/</code> 目录下会多两个文件：</p><ul><li><code>id_rsa</code> ：私钥</li><li><code>id_rsa.pub</code> ：公钥<br>之后想免密码登录哪个服务器，就将公钥传给哪个服务器即可。</li></ul><p>例如，想免密登录 <code>myserver</code> 服务器。则将公钥中的内容，复制到 <code>myserver</code> 中的 <code>~/.ssh/authorized_keys</code> 文件里即可，没有文件的话 创建即可。</p><p>也可以使用如下命令一键添加公钥：</p><p><code>ssh-copy-id myserver</code><br><strong>执行命令</strong><br>命令格式：</p><p><code>ssh user@hostname command</code><br>例如：</p><p><code>ssh user@hostname ls -a</code><br>或者<br></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 单引号中的$i可以求值</span><br><span class="line">ssh myserver &#x27;for ((i = 0; i &lt; 10; i ++ )) do echo $i; done&#x27;</span><br></pre></td></tr></table></figure><br>或者<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 双引号中的$i不可以求值</span><br><span class="line">ssh myserver &quot;for ((i = 0; i &lt; 10; i ++ )) do echo $i; done&quot;</span><br></pre></td></tr></table></figure><p></p><h3 id="scp传文件"><a class="anchor" href="#scp传文件">#</a> scp 传文件</h3><p><strong>基本用法</strong></p><ul><li><p>命令格式：</p><p><code>scp source destination</code><br>将 <code>source</code> 路径下的文件复制到 <code>destination</code> 中</p></li><li><p>一次复制多个文件：</p><p><code>scp source1 source2 destination</code></p></li><li><p>复制文件夹：</p><p><code>scp -r ~/tmp myserver:/home/acs/</code><br>将本地家目录中的 tmp 文件夹复制到 myserver 服务器中的 /home/acs/ 目录下。</p><p><code>scp -r ~/tmp myserver:homework/</code><br>将本地家目录中的 tmp 文件夹复制到 <code>myserver</code> 服务器中的～ <code>/homework/</code> 目录下。</p><p><code>scp -r myserver:homework .</code><br>将 <code>myserver</code> 服务器中的 <code>~/homework/</code> 文件夹复制到本地的当前路径下。</p></li><li><p>指定服务器的端口号：</p><p><code>scp -P 22 source1 source2 destination</code><br>注意： <code>scp</code> 的 <code>-r -P</code> 等参数尽量加在 <code>source和destination</code> 之前。</p><p>使用 <code>scp</code> 配置其他服务器的 <code>vim</code> 和 <code>tmux</code><br><code>scp ~/.vimrc ~/.tmux.conf myserver:</code></p></li></ul><hr><h2 id="git"><a class="anchor" href="#git">#</a> Git</h2><h3 id="git基本概念"><a class="anchor" href="#git基本概念">#</a> git 基本概念</h3><p><strong>工作区</strong>：仓库的目录。工作区是独立于各个分支的。<br><strong>暂存区</strong>：数据暂时存放的区域，类似于工作区写入版本库前的缓存区。暂存区是独立于各个分支的。<br><strong>版本库</strong>：存放所有已经提交到本地仓库的代码版本<br><strong>版本结构</strong>：树结构，树中每个节点代表一个代码版本。</p><h4 id="全局设置"><a class="anchor" href="#全局设置">#</a> 全局设置</h4><p><code>git config --global user.name xxx</code> ：设置全局用户名，信息记录在～/.gitconfig 文件中<br><code>git config --global user.email xxx@xxx.com</code> ：设置全局邮箱地址，信息记录在～/.gitconfig 文件中<br><code>git init</code> ：将当前目录配置成 git 仓库，信息记录在隐藏的.git 文件夹中</p><h4 id="常用命令"><a class="anchor" href="#常用命令">#</a> 常用命令</h4><p><code>git add XX</code> ：将 XX 文件添加到暂存区， <code>XX</code> 为 <code>.</code> 时代表所有文件都加入<br><code>git commit -m&quot;给自己看的备注信息&quot;</code> ：将暂存区的内容提交到当前分支<br><code>git status</code> ：查看仓库状态<br><code>git log</code> ：查看当前分支的所有版本<br><code>git push -u (第一次需要-u以后不需要)</code> ：将当前分支推送到远程仓库<br><code>git clone git@git.acwing.com:xxx/XXX.git</code> ：将远程仓库 XXX 下载到当前目录下<br><code>git branch</code> ：查看所有分支和当前所处分支</p><h4 id="查看命令"><a class="anchor" href="#查看命令">#</a> 查看命令</h4><p><code>git diff XX</code> ：查看 XX 文件相对于暂存区修改了哪些内容<br><code>git status</code> ：查看仓库状态<br><code>git log</code> ：查看当前分支的所有版本<br><code>git log --pretty=oneline</code> ：用一行来显示<br><code>git reflog</code> ：查看 HEAD 指针的移动历史（包括被回滚的版本）<br><code>git branch</code> ：查看所有分支和当前所处分支<br><code>git pull</code> ：将远程仓库的当前分支与本地仓库的当前分支合并</p><h4 id="删除命令"><a class="anchor" href="#删除命令">#</a> 删除命令</h4><p><code>git rm --cached XX</code> ：将文件从<em>仓库索引目录</em>中删掉，不希望管理这个文件<br><code>git restore --staged xx</code> ：将 xx 从<em>暂存区</em>里移除<br><code>git checkout — XX或git restore XX</code> ：将 XX 文件尚未加入暂存区的修改全部撤销</p><h4 id="代码回滚"><a class="anchor" href="#代码回滚">#</a> 代码回滚</h4><p><code>git reset --hard HEAD^ 或git reset --hard HEAD~</code> ：将代码库回滚到上一个版本<br><code>git reset --hard HEAD^^</code> ：往上回滚两次，以此类推<br><code>git reset --hard HEAD~100</code> ：往上回滚 100 个版本<br><code>git reset --hard 版本号</code> ：回滚到某一特定版本，版本号可以通过 <code>git reflog</code> 查看，7 位哈希值，也可以通过 <code>git log</code> 查看版本号，版本号同样也是前 7 位哈希值<br><code>git restore XXX</code> : 将工作区文件回滚到暂存区最近的使用的第一个版本</p><h4 id="远程仓库"><a class="anchor" href="#远程仓库">#</a> 远程仓库</h4><p><code>git remote add origin git@git.acwing.com:xxx/XXX.git</code> ：将本地仓库关联到远程仓库，仅用于 gitacwing<br><code>git push -u (第一次需要-u以后不需要)</code> ：将当前分支推送到远程仓库<br><code>git push origin branch_name</code> ：将本地的某个分支推送到远程仓库<br><code>git clone git@git.acwing.com:xxx/XXX.git</code> ：将远程仓库 XXX 下载到当前目录下<br><code>git push --set-upstream origin branch_name</code> ：设置本地的 branch_name 分支对应远程仓库的 branch_name 分支<br><code>git push -d origin branch_name</code> ：删除远程仓库的 branch_name 分支<br><code>git checkout -t origin/branch_name</code> 将远程的 branch_name 分支拉取到本地<br><code>git pull</code> ：将远程仓库的当前分支与本地仓库的当前分支合并<br><code>git pull origin branch_name</code> ：将远程仓库的 branch_name 分支与本地仓库的当前分支合并<br><code>git branch --set-upstream-to=origin/branch_name1 branch_name2</code> ：将远程的 branch_name1 分支与本地的 branch_name2 分支对应</p><h4 id="分支命令"><a class="anchor" href="#分支命令">#</a> 分支命令</h4><p><code>git branch branch_name</code> ：创建新分支<br><code>git branch</code> ：查看所有分支和当前所处分支<br><code>git checkout -b branch_name</code> ：创建并切换到 branch_name 这个分支，当前分支在哪个分支节点继承出来的，内容就和该节点相同<br><code>git checkout branch_name</code> ：切换到 branch_name 这个分支<br><code>git merge branch_name</code> ：将分支 branch_name 合并到当前分支上<br><code>git branch -d branch_name</code> ：删除本地仓库的 branch_name 分支<br><code>git push --set-upstream origin branch_name</code> ：设置本地的 branch_name 分支对应远程仓库的 branch_name 分支<br><code>git push -d origin branch_name</code> ：删除远程仓库的 branch_name 分支<br><code>git checkout -t origin/branch_name</code> 将远程的 branch_name 分支拉取到本地<br><code>git pull</code> ：将远程仓库的当前分支与本地仓库的当前分支合并<br><code>git pull origin branch_name</code> ：将远程仓库的 branch_name 分支与本地仓库的当前分支合并<br><code>git branch --set-upstream-to=origin/branch_name1 branch_name2</code> ：将远程的 branch_name1 分支与本地的 branch_name2 分支对应</p><h4 id="stash暂存"><a class="anchor" href="#stash暂存">#</a> stash 暂存</h4><p><code>git stash</code> ：将工作区和暂存区中尚未提交的修改存入栈中<br><code>git stash apply</code> ：将栈顶存储的修改恢复到当前分支，但不删除栈顶元素<br><code>git stash drop</code> ：删除栈顶存储的修改<br><code>git stash pop</code> ：将栈顶存储的修改恢复到当前分支，同时删除栈顶元素<br><code>git stash list</code> ：查看栈中所有元素</p><hr><h2 id="thrift"><a class="anchor" href="#thrift">#</a> thrift</h2><p><a target="_blank" rel="noopener" href="https://thrift.apache.org/"><strong>thrift 官网</strong></a><br><strong>作用</strong> : Thrift 的主要作用是通过已经定义的接口简化不同编程语言之间的通信和数据传输过程，使得开发分布式系统和跨平台应用变得更加简便和高效。<br><strong>示例</strong><br><em><strong>建议</strong></em> ：接口类型文件放在一个文件夹，生成的代码放在对应功能系统的 src 文件夹</p><ol><li>首先自己定义接口</li><li>然后根据官方文档提供的对应接口语言的生成语句，分别为客户端和服务端生成接口实现的代码</li><li>C++ 类型接口定义实例<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> cpp match_service</span><br><span class="line"><span class="comment">//用户匹配系统接口</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="number">1</span>: i32 id,</span><br><span class="line">    <span class="number">2</span>: string name,</span><br><span class="line">    <span class="number">3</span>: i32 score</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">service Match &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * user: 添加的用户信息</span></span><br><span class="line"><span class="comment">    * info: 附加信息</span></span><br><span class="line"><span class="comment">    * 在匹配池中添加一个名用户</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function">i32 <span class="title">add_user</span><span class="params">(<span class="number">1</span>: User user, <span class="number">2</span>: string info)</span>,</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="function">    * user: 删除的用户信息</span></span></span><br><span class="line"><span class="comment"><span class="function">    * info: 附加信息</span></span></span><br><span class="line"><span class="comment"><span class="function">    * 从匹配池中删除一名用户</span></span></span><br><span class="line"><span class="comment"><span class="function">    */</span></span></span><br><span class="line"><span class="function">    i32 <span class="title">remove_user</span><span class="params">(<span class="number">1</span>: User user, <span class="number">2</span>: string info)</span>,</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure></li><li>对生成的主体文件进行修改，实现具体功能，这一步建议先将主题代码跑通，再逐步添加模块</li><li>上传代码时，建议只传源代码，编译文件不要上传</li></ol><hr><h2 id="管道-环境变量-常用命令"><a class="anchor" href="#管道-环境变量-常用命令">#</a> 管道 环境变量 常用命令</h2><h3 id="管道"><a class="anchor" href="#管道">#</a> 管道</h3><p><strong>概念</strong><br>管道类似于文件重定向，可以将前一个命令的 <code>stdout</code> 重定向到下一个命令的 <code>stdin</code> 。<br><strong>要点</strong></p><ol><li>管道命令仅处理 <code>stdout，</code> 会忽略 <code>stderr</code> 。</li><li>管道右边的命令必须能接受 <code>stdin</code> 。</li><li>多个管道命令可以串联。</li></ol><p><strong>与文件重定向的区别</strong></p><ul><li>文件重定向左边为命令，右边为文件。</li><li>管道左右两边均为命令，左边有 <code>stdout</code> ，右边有 <code>stdin</code> 。<br><strong>举例</strong><br>统计当前目录下所有 <code>python</code> 文件的总行数，其中 <code>find、xargs、wc</code> 等命令可以参考常用命令这一节内容。<br><code>find . -name '*.py' | xargs cat | wc -l</code></li></ul><h3 id="环境变量"><a class="anchor" href="#环境变量">#</a> 环境变量</h3><p><strong>概念</strong><br>Linux 系统中会用很多环境变量来记录<strong>配置信息</strong>。<br>环境变量类似于全局变量，可以被各个进程访问到。我们可以通过修改环境变量来方便地修改系统配置。<br><strong>查看</strong><br>列出当前环境下的所有环境变量：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">env</span>  <span class="comment"># 显示当前用户的变量</span></span><br><span class="line"><span class="built_in">set</span>  <span class="comment"># 显示当前shell的变量，包括当前用户的变量;</span></span><br><span class="line"><span class="built_in">export</span>  <span class="comment"># 显示当前导出成用户变量的shell变量</span></span><br></pre></td></tr></table></figure><br>输出某个环境变量的值：<br><code>echo $PATH</code><br><strong>修改</strong><br>环境变量的定义、修改、删除操作可以参考 3. shell 语法 —— 变量这一节的内容。<p></p><p>为了将对环境变量的修改应用到未来所有环境下，可以将修改命令放到 <code>~/.bashrc</code> 文件中。<br>修改完 <code>~/.bashrc</code> 文件后，记得执行 <code>source ~/.bashrc</code> ，来将修改应用到当前的 <code>bash</code> 环境下。</p><p>为何将修改命令放到 <code>~/.bashrc</code> ，就可以确保修改会影响未来所有的环境呢？</p><ul><li>每次启动 bash，都会先执行 <code>~/.bashrc</code> 。</li><li>每次 ssh 登陆远程服务器，都会启动一个 <code>bash</code> 命令行给我们。</li><li>每次 tmux 新开一个 <code>pane</code> ，都会启动一个 <code>bash</code> 命令行给我们。</li><li>所以未来所有新开的环境都会加载我们修改的内容。</li></ul><p><strong>常见环境变量</strong></p><ol><li><code>HOME</code> ：用户的家目录。</li><li><code>PATH</code> ：可执行文件（命令）的存储路径。路径与路径之间用：分隔。当某个可执行文件同时出现在多个路径中时，会选择从左到右数第一个路径中的执行。下列所有存储路径的环境变量，均采用从左到右的优先顺序。</li><li><code>LD_LIBRARY_PATH</code> ：用于指定动态链接库 (.so 文件) 的路径，其内容是以冒号分隔的路径列表。</li><li><code>C_INCLUDE_PATH</code> ：C 语言的头文件路径，内容是以冒号分隔的路径列表。</li><li><code>CPLUS_INCLUDE_PATH</code> ：CPP 的头文件路径，内容是以冒号分隔的路径列表。</li><li><code>PYTHONPATH</code> ：Python 导入包的路径，内容是以冒号分隔的路径列表。</li><li><code>JAVA_HOME</code> ：jdk 的安装目录。</li><li><code>CLASSPATH</code> ：存放 Java 导入类的路径，内容是以冒号分隔的路径列表。</li></ol><h3 id="常用命令-2"><a class="anchor" href="#常用命令-2">#</a> 常用命令</h3><p>Linux 命令非常多，本节讲解几个常用命令。其他命令依赖于大家根据实际操作环境，边用边查。</p><p><strong>系统状况</strong></p><ol><li><code>top</code> ：查看所有进程的信息（Linux 的任务管理器）<br>打开后，输入 M：按使用内存排序<br>打开后，输入 P：按使用 CPU 排序<br>打开后，输入 q：退出</li><li><code>df -h</code> ：查看硬盘使用情况</li><li><code>free -h</code> ：查看内存使用情况</li><li><code>du -sh</code> ：查看当前目录占用的硬盘空间</li><li><code>ps aux</code> ：查看所有进程</li><li><code>kill -9 pid</code> ：杀死编号为 pid 的进程<ul><li>传递某个具体的信号： <code>kill -s SIGTERM pid</code></li></ul></li><li><code>netstat -nt</code> ：查看所有网络连接</li><li><code>w</code> ：列出当前登陆的用户</li><li><code>ping www.baidu.com</code> ：检查是否连网</li></ol><p><strong>文件权限</strong><br><code>chmod</code> ：修改文件权限</p><ul><li><code>chmod +x xxx</code> ：给 xxx 添加可执行权限</li><li><code>chmod -x xxx</code> ：去掉 xxx 的可执行权限</li><li><code>chmod 777 xxx</code> ：将 xxx 的权限改成 777</li><li><code>chmod 777 xxx -R</code> ：递归修改整个文件夹的权限</li><li><code>d---------</code> ：三个 <code>-</code> 一组，代表 rwx, 前三个代表自己对该文件的权限，中间三个代表同组，后面三个代表其他，上一个命令就是 0-7 的数字，代表 3 个位，也就是每组 rwx 权限</li></ul><p><strong>文件检索</strong></p><ol><li><code>find /path/to/directory/ -name '*.py'</code> ：搜索某个文件路径下的所有 <code>*.py</code> 文件</li><li><code>grep xxx</code> ：从 <code>stdin</code> 中读入若干行数据，如果某行中包含 <code>xxx</code> ，则输出该行；否则忽略该行。</li><li><code>wc</code> ：统计行数、单词数、字节数<ul><li>既可以从 <code>stdin</code> 中直接读入内容；也可以在命令行参数中传入文件名列表；</li><li><code>wc -l</code> ：统计行数</li><li><code>wc -w</code> ：统计单词数</li><li><code>wc -c</code> ：统计字节数</li></ul></li><li><code>tree</code> ：展示当前目录的文件结构<ul><li><code>tree /path/to/directory/</code> ：展示某个目录的文件结构</li><li><code>tree -a</code> ：展示隐藏文件</li></ul></li><li><code>ag xxx</code> ：搜索当前目录下的所有文件，检索 xxx 字符串</li><li><code>cut</code> ：分割一行内容<ul><li>从 <code>stdin</code> 中读入多行数据</li><li><code>echo $PATH | cut -d ':' -f 3,5</code> ：输出 PATH 用：分割后第 3、5 列数据</li><li><code>echo $PATH | cut -d ':' -f 3-5</code> ：输出 PATH 用：分割后第 3-5 列数据</li><li><code>echo $PATH | cut -c 3,5</code> ：输出 PATH 的第 3、5 个字符</li><li><code>echo $PATH | cut -c 3-5</code> ：输出 PATH 的第 3-5 个字符</li></ul></li><li><code>sort</code> ：将每行内容按字典序排序<ul><li>可以从 <code>stdin</code> 中读取多行数据</li><li>可以从命令行参数中读取文件名列表</li></ul></li><li><code>xargs</code> ：将 <code>stdin</code> 中的数据用空格或回车分割成命令行参数<ul><li><code>find . -name '*.py' | xargs cat | wc -l</code> ：统计当前目录下所有 python 文件的总行数</li></ul></li></ol><p><strong>查看文件内容</strong></p><ol><li><code>more</code> ：浏览文件内容<ul><li>回车：下一行</li><li>空格：下一页</li><li><code>b</code> ：上一页</li><li><code>q</code> ：退出</li></ul></li><li><code>less</code> ：与 <code>more</code> 类似，功能更全<ul><li>回车：下一行</li><li><code>y</code> ：上一行</li><li><code>Page Down</code> ：下一页</li><li><code>Page Up</code> ：上一页</li><li><code>q</code> ：退出</li></ul></li><li><code>head -3 xxx</code> ：展示 xxx 的前 3 行内容<ul><li>同时支持从 stdin 读入内容</li></ul></li><li><code>tail -3 xxx</code> ：展示 xxx 末尾 3 行内容<ul><li>同时支持从 stdin 读入内容</li></ul></li></ol><p><strong>用户相关</strong></p><ol><li><code>history</code> ：展示当前用户的历史操作。内容存放在 <code>~/.bash_history</code> 中</li></ol><p><strong>工具</strong></p><ol><li><code>md5sum</code> ：计算 <code>md5</code> 哈希值<ul><li>可以从 <code>stdin</code> 读入内容</li><li>也可以在命令行参数中传入文件名列表；</li></ul></li><li><code>time command</code> ：统计 <code>command</code> 命令的执行时间</li><li><code>ipython3</code> ：交互式 python3 环境。可以当做计算器，或者批量管理文件。<ul><li><code>! echo &quot;Hello World&quot;</code> ：! 表示执行 shell 脚本</li></ul></li><li><code>watch -n 0.1 command</code> ：每 0.1 秒执行一次 command 命令</li><li><code>tar</code> ：压缩文件<ul><li><code>tar -zcvf xxx.tar.gz /path/to/file/*</code> ：压缩</li><li><code>tar -zxvf xxx.tar.gz</code> ：解压缩</li></ul></li><li><code>diff xxx yyy</code> ：查找文件 xxx 与 yyy 的不同点</li></ol><p><strong>安装软件</strong></p><ol><li><code>sudo command</code> ：以 <code>root</code> 身份执行 <code>command</code> 命令</li><li><code>apt-get install xxx</code> ：安装软件</li><li><code>pip install xxx --user --upgrade</code> ：安装 python 包</li></ol><h2 id="租服务器"><a class="anchor" href="#租服务器">#</a> 租服务器</h2><h3 id="概述"><a class="anchor" href="#概述">#</a> 概述</h3><p><strong>云平台的作用</strong>:</p><ol><li>存放我们的 docker 容器，让计算跑在云端。</li><li>获得公网 IP 地址，让每个人可以访问到我们的服务。</li></ol><p><strong>任选一个云平台即可，推荐配置：</strong></p><ul><li>1 核 2GB（后期可以动态扩容，前期配置低一些没关系）</li><li>网络带宽采用按量付费，最大带宽拉满即可（费用取决于用量，与最大带宽无关）</li><li>系统版本：ubuntu 20.04 LTS（推荐用统一版本，避免后期出现配置不兼容的问题）</li></ul><h3 id="云服务器"><a class="anchor" href="#云服务器">#</a> 云服务器</h3><h4 id="阿里云"><a class="anchor" href="#阿里云">#</a> 阿里云</h4><p><a target="_blank" rel="noopener" href="https://www.aliyun.com/"><strong>地址</strong></a><br><strong>创建工作用户 <code>acs</code> 并赋予 <code>sudo</code> 权限</strong><br>登录到新服务器。打开 AC Terminal，然后：<br></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@xxx.xxx.xxx.xxx  <span class="comment"># xxx.xxx.xxx.xxx替换成新服务器的公网IP</span></span><br></pre></td></tr></table></figure><br><strong>创建 <code>acs</code> 用户</strong>：<br>不建议在根用户下操作，所以创建新用户<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adduser acs  <span class="comment"># 创建用户acs</span></span><br><span class="line">usermod -aG sudo acs  <span class="comment"># 给用户acs分配sudo权限</span></span><br></pre></td></tr></table></figure><br><strong>配置免密登录方式</strong><br>退回 AC Terminal，然后配置 <code>acs</code> 用户的别名和免密登录，可以参考 4. ssh——ssh 登录。<p></p><p><strong>配置新服务器的工作环境</strong><br>将 AC Terminal 的配置传到新服务器上：</p><p><code>scp .bashrc .vimrc .tmux.conf server_name: # server_name需要换成自己配置的别名</code><br><strong>安装 <code>tmux</code> 和 <code>docker</code></strong><br>登录自己的服务器，然后安装 <code>tmux</code> ：<br></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install tmux</span><br></pre></td></tr></table></figure><br>打开 <code>tmux</code> 。（养成好习惯，所有工作都在 <code>tmux</code> 里进行，防止意外关闭终端后，工作进度丢失）<p></p><p>然后在 <code>tmux</code> 中根据<span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZW5naW5lL2luc3RhbGwvdWJ1bnR1Lw=="> docker 安装教程</span>安装 <code>docker</code> 即可。</p><h2 id="腾讯云"><a class="anchor" href="#腾讯云">#</a> 腾讯云</h2><p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/"><strong>地址</strong></a></p><h2 id="华为云"><a class="anchor" href="#华为云">#</a> 华为云</h2><p><a target="_blank" rel="noopener" href="https://www.huaweicloud.com/"><strong>地址</strong></a></p><hr><h2 id="docker教程"><a class="anchor" href="#docker教程">#</a> docker 教程</h2><p><strong>将当前用户添加到 <code>docker</code> 用户组</strong><br>为了避免每次使用 <code>docker</code> 命令都需要加上 <code>sudo</code> 权限，可以将当前用户加入安装中自动创建的 <code>docker</code> 用户组 (可以参考<span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRvY2tlci5jb20vZW5naW5lL2luc3RhbGwvbGludXgtcG9zdGluc3RhbGwv">官方文档</span>)：</p><p><code>sudo usermod -aG docker $USER</code><br>执行完此操作后，需要退出服务器，再重新登录回来，才可以省去 sudo 权限。</p><h3 id="docker-镜像image"><a class="anchor" href="#docker-镜像image">#</a> Docker 镜像（Image）</h3><p><strong>定义：</strong> Docker 镜像是一个只读的模板，包含了用于创建 Docker 容器的文件系统内容和配置信息。它可以看作是一个应用程序运行环境的打包模板，其中包含了运行所需的所有内容：代码、运行时库、环境变量和配置文件等。</p><p><strong>作用：</strong></p><ol><li>创建容器： Docker 镜像是启动 Docker 容器的基础。每个容器都是基于一个镜像启动的。</li><li>跨平台交付： 镜像可以在任何支持 Docker 的平台上运行，确保了应用程序环境的一致性。</li><li>版本控制和复用： 镜像可以通过版本标签管理，使得开发、测试和部署过程更为可控和可复用。</li><li>快速部署和扩展： 镜像的轻量级特性使得应用程序可以快速部署和扩展，适应不同规模和需求的变化。</li></ol><h3 id="docker-容器container"><a class="anchor" href="#docker-容器container">#</a> Docker 容器（Container）</h3><p><strong>定义：</strong> Docker 容器是 Docker 镜像的实例化运行对象。它实际上是一个独立运行的应用程序进程，拥有自己的文件系统、内存、网络接口和进程空间。</p><p><strong>作用：</strong></p><ol><li>隔离性： 容器利用 Linux 内核提供的各种隔离技术（如命名空间和控制组）实现与宿主机和其他容器的隔离，确保了应用程序互不干扰。</li><li>轻量级： 容器是基于 Docker 镜像启动的，相比虚拟机具有更少的开销和更快的启动时间。<br>易于管理： 容器提供了简单且一致的部署和管理接口，使得开发人员和运维人员可以更加高效地管理应用程序的生命周期。</li><li>可移植性： 容器可以在不同的环境中运行，包括开发、测试和生产环境，而不会受到运行环境差异的影响。<br>总结来说，Docker 镜像是静态的应用程序打包模板，而容器是动态的、可执行的运行实例。它们共同构成了 Docker 的核心概念，使得应用程序的开发、交付和运行变得更加高效和可靠。</li></ol><p><strong>镜像（images）</strong></p><ol><li><code>docker pull ubuntu:20.04</code> ：拉取一个镜像</li><li><code>docker images</code> ：列出本地所有镜像</li><li><code>docker image rm ubuntu:20.04</code> 或 <code>docker rmi ubuntu:20.04</code> ：删除镜像 ubuntu:20.04</li><li><code>docker [container] commit CONTAINER IMAGE_NAME:TAG</code> ：创建某个 container 的镜像</li><li><code>docker save -o ubuntu_20_04.tar ubuntu:20.04</code> ：将镜像 ubuntu:20.04 导出到本地文件 ubuntu_20_04.tar 中</li><li><code>docker load -i ubuntu_20_04.tar</code> ：将镜像 ubuntu:20.04 从本地文件 ubuntu_20_04.tar 中加载出来</li></ol><p><strong>容器 (container)</strong></p><ol><li><code>docker [container] create -it ubuntu:20.04</code> ：利用镜像 ubuntu:20.04 创建一个容器。</li><li><code>docker ps -a</code> ：查看本地的所有容器</li><li><code>docker [container] start CONTAINER</code> ：启动容器</li><li><code>docker [container] stop CONTAINER</code> ：停止容器</li><li><code>docker [container] restart CONTAINER</code> ：重启容器</li><li><code>docker [contaienr] run -itd ubuntu:20.04</code> ：创建并启动一个容器</li><li><code>docker [container] attach CONTAINER</code> ：进入容器<br>先按 Ctrl-p，再按 Ctrl-q 可以挂起容器</li><li><code>docker [container] exec CONTAINER COMMAND</code> ：在容器中执行命令</li><li><code>docker [container] rm CONTAINER</code> ：删除容器</li><li><code>docker container prune</code> ：删除所有已停止的容器</li><li><code>docker export -o xxx.tar CONTAINER</code> ：将容器 CONTAINER 导出到本地文件 xxx.tar 中</li><li><code>docker import xxx.tar image_name:tag</code> ：将本地文件 xxx.tar 导入成镜像，并将镜像命名为 image_name:tag</li><li><code>docker export/import</code> 与 <code>docker save/load</code> 的区别：<ul><li><code>export/import</code> 会丢弃历史记录和元数据信息，仅保存容器当时的快照状态</li><li><code>save/load</code> 会保存完整记录，体积更大</li></ul></li><li><code>docker top CONTAINER</code> ：查看某个容器内的所有进程</li><li><code>docker stats</code> ：查看所有容器的统计信息，包括 CPU、内存、存储、网络等信息</li><li><code>docker cp xxx CONTAINER:xxx</code> 或 <code>docker cp CONTAINER:xxx xxx</code> ：在本地和容器间复制文件</li><li><code>docker rename CONTAINER1 CONTAINER2</code> ：重命名容器</li><li><code>docker update CONTAINER --memory 500MB</code> ：修改容器限制</li></ol><p><strong>实战</strong><br>进入 AC Terminal，然后：<br></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scp /var/lib/acwing/docker/images/docker_lesson_1_0.tar server_name:  # 将镜像上传到自己租的云端服务器</span><br><span class="line">ssh server_name  # 登录自己的云端服务器</span><br><span class="line"></span><br><span class="line">docker load -i docker_lesson_1_0.tar  # 将镜像加载到本地</span><br><span class="line">docker run -p 20000:22 --name my_docker_server -itd docker_lesson:1.0  # 创建并运行docker_lesson:1.0镜像</span><br><span class="line"></span><br><span class="line">docker attach my_docker_server  # 进入创建的docker容器</span><br><span class="line">passwd  # 设置root密码</span><br></pre></td></tr></table></figure><br>去云平台控制台中修改安全组配置，放行端口 <code>20000</code> 。<p></p><p>返回 AC Terminal，即可通过 <code>ssh</code> 登录自己的 <code>docker</code> 容器：</p><p><code>ssh root@xxx.xxx.xxx.xxx -p 20000 # 将xxx.xxx.xxx.xxx替换成自己租的服务器的IP地址</code><br>然后，可以仿照上节课内容，创建工作账户 <code>acs</code> 。</p><p>最后，可以参考 4. ssh——ssh 登录配置 <code>docker</code> 容器的别名和免密登录。<br>这样在服务器上创建了一个与服务器性能相近的服务器<br>小 Tips<br>如果 <code>apt-get</code> 下载软件速度较慢，可以参考<span class="exturl" data-url="aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2hlbHAvdWJ1bnR1Lw==">清华大学开源软件镜像站</span>中的内容，修改软件源。</p><div class="tags"><a href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag"><i class="ic i-tag"></i> 学习</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2024-07-27 16:52:59" itemprop="dateModified" datetime="2024-07-27T16:52:59+08:00">2024-07-27</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="REMU 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="REMU 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="REMU 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>REMU <i class="ic i-at"><em>@</em></i>REM</li><li class="link"><strong>本文链接：</strong> <a href="https://loveremu.github.io/2024/04/28/Linux%E5%9F%BA%E7%A1%80/" title="Linux基础">https://loveremu.github.io/2024/04/28/Linux基础/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/04/28/Springboot%E5%9F%BA%E7%A1%80/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;LOVEREMU.github.io&#x2F;images&#x2F;5-min.jpg" title="Springboot基础"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 工程基础</span><h3>Springboot基础</h3></a></div><div class="item right"><a href="/2024/05/23/%E8%AE%A1%E7%BD%91%E8%80%83%E7%A0%94%E7%AC%94%E8%AE%B0(%E6%91%98%E6%8A%84)/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;LOVEREMU.github.io&#x2F;images&#x2F;6-min.jpg" title="计算机网络考研笔记(摘抄)"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 408</span><h3>计算机网络考研笔记(摘抄)</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#linux"><span class="toc-number">1.</span> <span class="toc-text">Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E5%85%B3%E8%81%94"><span class="toc-number">1.1.</span> <span class="toc-text">前后端关联</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.2.</span> <span class="toc-text">文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%91%E7%8A%B6%E7%BB%93%E6%9E%84%E5%B8%B8%E7%94%A8%E6%96%87%E4%BB%B6%E5%A6%82%E4%B8%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">树状结构，常用文件如下</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.2.2.</span> <span class="toc-text">文件描述</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.</span> <span class="toc-text">基础命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tmux%E5%92%8Cvim"><span class="toc-number">1.4.</span> <span class="toc-text">tmux 和 vim</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E8%AF%AD%E6%B3%95"><span class="toc-number">1.5.</span> <span class="toc-text">shell 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%AE%BA"><span class="toc-number">1.5.1.</span> <span class="toc-text">概论</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">1.5.2.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.3.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%98%E9%87%8F"><span class="toc-number">1.5.4.</span> <span class="toc-text">默认变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.5.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#expr%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.6.</span> <span class="toc-text">expr 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#read%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.7.</span> <span class="toc-text">read 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#echo%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.8.</span> <span class="toc-text">echo 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#printf%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.9.</span> <span class="toc-text">printf 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#test%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%88%A4%E6%96%AD%E7%AC%A6%E5%8F%B7"><span class="toc-number">1.5.10.</span> <span class="toc-text">test 命令与判断符号 []</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.5.11.</span> <span class="toc-text">判断语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.5.12.</span> <span class="toc-text">循环语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.13.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exit%E5%91%BD%E4%BB%A4"><span class="toc-number">1.5.14.</span> <span class="toc-text">exit 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.5.15.</span> <span class="toc-text">文件重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E8%84%9A%E6%9C%AC"><span class="toc-number">1.5.16.</span> <span class="toc-text">引入外部脚本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ssh"><span class="toc-number">1.6.</span> <span class="toc-text">SSH</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ssh%E7%99%BB%E5%BD%95"><span class="toc-number">1.6.1.</span> <span class="toc-text">ssh 登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scp%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.2.</span> <span class="toc-text">scp 传文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git"><span class="toc-number">1.7.</span> <span class="toc-text">Git</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#git%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.7.1.</span> <span class="toc-text">git 基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.7.1.1.</span> <span class="toc-text">全局设置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.1.2.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.1.3.</span> <span class="toc-text">查看命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.1.4.</span> <span class="toc-text">删除命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%9B%9E%E6%BB%9A"><span class="toc-number">1.7.1.5.</span> <span class="toc-text">代码回滚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="toc-number">1.7.1.6.</span> <span class="toc-text">远程仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.1.7.</span> <span class="toc-text">分支命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#stash%E6%9A%82%E5%AD%98"><span class="toc-number">1.7.1.8.</span> <span class="toc-text">stash 暂存</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#thrift"><span class="toc-number">1.8.</span> <span class="toc-text">thrift</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E9%81%93-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.9.</span> <span class="toc-text">管道 环境变量 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E9%81%93"><span class="toc-number">1.9.1.</span> <span class="toc-text">管道</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.9.2.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-2"><span class="toc-number">1.9.3.</span> <span class="toc-text">常用命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%9F%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.10.</span> <span class="toc-text">租服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.10.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">1.10.2.</span> <span class="toc-text">云服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%BF%E9%87%8C%E4%BA%91"><span class="toc-number">1.10.2.1.</span> <span class="toc-text">阿里云</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%85%BE%E8%AE%AF%E4%BA%91"><span class="toc-number">1.11.</span> <span class="toc-text">腾讯云</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8E%E4%B8%BA%E4%BA%91"><span class="toc-number">1.12.</span> <span class="toc-text">华为云</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E6%95%99%E7%A8%8B"><span class="toc-number">1.13.</span> <span class="toc-text">docker 教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-%E9%95%9C%E5%83%8Fimage"><span class="toc-number">1.13.1.</span> <span class="toc-text">Docker 镜像（Image）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-%E5%AE%B9%E5%99%A8container"><span class="toc-number">1.13.2.</span> <span class="toc-text">Docker 容器（Container）</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/2024/04/28/Linux%E5%9F%BA%E7%A1%80/" rel="bookmark" title="Linux基础">Linux基础</a></li><li><a href="/2024/04/28/Springboot%E5%9F%BA%E7%A1%80/" rel="bookmark" title="Springboot基础">Springboot基础</a></li><li><a href="/2024/04/28/SSM/" rel="bookmark" title="SSM(摘抄)">SSM(摘抄)</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="REMU" data-src="/images/avatar.jpg"><p class="name" itemprop="name">REMU</p><div class="description" itemprop="description">LOVEREMU blog</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">33</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">7</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">2</span> <span class="name">标签</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2024/04/28/Springboot%E5%9F%BA%E7%A1%80/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/05/23/%E8%AE%A1%E7%BD%91%E8%80%83%E7%A0%94%E7%AC%94%E8%AE%B0(%E6%91%98%E6%8A%84)/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%B7%A5%E7%A8%8B%E5%9F%BA%E7%A1%80/" title="分类于 工程基础">工程基础</a></div><span><a href="/2024/04/28/Springboot%E5%9F%BA%E7%A1%80/" title="Springboot基础">Springboot基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" title="分类于 语言基础">语言基础</a></div><span><a href="/2023/06/13/JAVA/" title="JAVA">JAVA</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/408/" title="分类于 408">408</a></div><span><a href="/2024/05/23/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86(%E6%91%98%E6%8A%84)/" title="计算机组成原理(摘抄)">计算机组成原理(摘抄)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ACGN-disscuss/" title="分类于 ACGN disscuss">ACGN disscuss</a></div><span><a href="/2024/06/29/%E6%96%A9%E8%B5%A4%E7%BA%A2%E8%B5%A4%E7%9E%B3/" title="斩赤红之瞳">斩赤红之瞳</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="分类于 算法与数据结构">算法与数据结构</a></div><span><a href="/2023/07/21/%E6%95%B0%E8%AE%BA/" title="数学知识">数学知识</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" title="分类于 语言基础">语言基础</a></div><span><a href="/2023/05/28/C++STL%E5%9F%BA%E6%93%8D/" title="STL基操">STL基操</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/408/" title="分类于 408">408</a></div><span><a href="/2024/05/23/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%80%83%E7%A0%94%E7%AC%94%E8%AE%B0(%E6%91%98%E6%8A%84)/" title="操作系统考研笔记(摘抄)">操作系统考研笔记(摘抄)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/ACGN-disscuss/" title="分类于 ACGN disscuss">ACGN disscuss</a></div><span><a href="/2023/06/29/%E5%86%B0%E6%B5%B7%E6%88%98%E8%AE%B0/" title="冰海战记">冰海战记</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/408/" title="分类于 408">408</a></div><span><a href="/2024/05/23/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%88%E6%91%98%E6%8A%84%EF%BC%89/" title="数据结构(摘抄)">数据结构(摘抄)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="分类于 算法与数据结构">算法与数据结构</a></div><span><a href="/2023/07/01/%E7%AE%97%E6%B3%95/" title="算法">算法</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2023 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">REMU @ REMU's blog</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2024/04/28/Linux基础/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->